(this["webpackJsonpshop-app"]=this["webpackJsonpshop-app"]||[]).push([[0],{146:function(e,t,a){e.exports=a(271)},151:function(e,t,a){},152:function(e,t,a){},170:function(e,t){},209:function(e,t,a){},271:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(27),c=a.n(o),i=(a(151),a(3)),l=a(4),s=a(6),u=a(5),m=a(48),p=(a(152),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.onChange;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email address"),r.a.createElement("input",{type:"email","data-field-name":"email",onChange:e,className:"form-control",name:"email","aria-describedby":"emailHelp",placeholder:"Enter email"}))}}]),a}(n.Component)),d=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onChange,a=e.caption,n=e.name;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"InputPassword"},a),r.a.createElement("input",{type:"password","data-field-name":"password",onChange:t,className:"form-control",name:n,placeholder:"Password"}))}}]),a}(n.Component),h=a(49),b=a(15);var f=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleFocusChange=function(e){return function(t){var a=t.focused;n.setState(Object(h.a)({},e,a))}},n.state={focusedFromDate:null,focusedToDate:null},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onChange,a=e.filter,n=e.colors;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"pt-3 pb-3 mb-3"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement(se,{caption:"From:",date:a.fromDate,onDateChange:t("fromDate"),focused:this.state.focusedFromDate,onFocusChange:this.handleFocusChange("focusedFromDate"),id:"from-date-id"}),r.a.createElement(se,{caption:"To:",date:a.toDate,onDateChange:t("toDate"),focused:this.state.focusedToDate,onFocusChange:this.handleFocusChange("focusedToDate"),id:"to-date-id"}),r.a.createElement(ie,{caption:"In Stock only",onChange:t("inStockOnly"),checked:a.inStockOnly})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"}," Price ")),r.a.createElement("div",{className:"row"},r.a.createElement(ce,{caption:"From",onChange:t("priceFrom")}),r.a.createElement(ce,{caption:"To",onChange:t("priceTo")}),r.a.createElement(ue,{caption:"Color",onChange:t("color"),items:n})))))}}]),a}(r.a.Component),g=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t){return function(a){e.props.setFilter(Object(h.a)({},t,a))}},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(f,Object.assign({},this.props,{onChange:this.handleChange}))}}]),a}(r.a.Component),v={setFilter:function(e){return{type:"SET_FILTER",payload:e}}},O=Object(b.b)((function(e){var t=e.productStore,a=e.sessionStore;return{colors:t.colors,filter:t.filter,errorMsg:a.errorMsg}}),v)(g),E=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.onChange;return r.a.createElement("div",{className:"card border-secondary mb-3",key:t.id},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement(j,{imageSrc:t.image,name:t.name}),r.a.createElement("div",{className:"col-xs-6 col-sm-7 col-md-9 col-lg-9"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row pt-3"},r.a.createElement(y,{caption:"Name",value:t.name}),r.a.createElement(y,{caption:"Issue Date",value:t.issueDate}),r.a.createElement(y,{caption:"Price",value:t.price})),r.a.createElement("div",{className:"row pt-3"},r.a.createElement(y,{caption:"Color",value:t.color}),r.a.createElement(ie,{caption:"In Stock Only",value:t.inStock,onChange:a}),r.a.createElement(pe,{caption:"Order",onClick:null})))))))}}]),a}(n.Component),j=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.imageSrc,a=e.name;return r.a.createElement("div",{className:"col-xs-6 col-sm-5 col-md-3 col-lg-3"},r.a.createElement("img",{src:t,alt:a,style:{maxWidth:"150px"}}))}}]),a}(n.Component),y=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.caption,a=e.value;return r.a.createElement("div",{className:"col-4 "},r.a.createElement("p",{className:"card-text"},t,":"),r.a.createElement("p",{className:"card-text"},a))}}]),a}(n.Component),C=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t){return function(a){e.props.setInStock({id:t,inStock:a})}},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.item;return r.a.createElement(E,{item:e,key:e.id,onChange:this.handleChange(e.id)})}}]),a}(r.a.Component),N={setInStock:function(e){return function(e){return{type:"SET_INSTOCK",payload:e}}(e)}},k=Object(b.b)(null,N)(C),S=a(18);var w=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.location,a=e.onSubmit,n=e.errorMsg,o=e.isAuthorized,c=(t.state||{from:{pathname:te}}).from;return r.a.createElement(r.a.Fragment,null,o?r.a.createElement(S.a,{to:c}):r.a.createElement("div",null,r.a.createElement("div",{className:"container"},n?r.a.createElement("div",{className:"alert alert-danger",role:"alert"},n):null,r.a.createElement("form",{onSubmit:a},r.a.createElement(p,null),r.a.createElement(d,{caption:"Password",name:"password"}),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))))}}]),a}(n.Component),F=function(e){return/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(e)},D=function(e){return"string"===typeof e?JSON.parse(e.toLowerCase().trim()):e},M=function(e){var t=0;if(0===e.length)return t;for(var a=0;a<e.length;a++){t=(t<<5)-t+e.charCodeAt(a),t&=t}return String(t)},T=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){if(e.preventDefault(),!F(e.target.email.value))return n.setState({errorMsg:"email address is incorrect"}),null;n.props.logIn({email:e.target.email.value,password:M(e.target.password.value),admin:n.props.admin})},n.state={errorMsg:n.props.errorMsg},n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(w,Object.assign({},this.props,{errorMsg:this.props.errorMsg||this.state.errorMsg,onSubmit:this.handleSubmit}))}}]),a}(r.a.Component),I={logIn:function(e,t){return function(e){return function(t){!function(e){return e.admin.password===e.password&&e.admin.email===e.email}(e)?t({type:"LOG_IN_FAIL",payload:"Wrong Username or Password"}):t({type:"LOG_IN",payload:{email:e.email,password:e.password}})}}(e)}},_=Object(b.b)((function(e){var t=e.sessionStore;return{isAuthorized:""!==t.user.email,errorMsg:t.errorMsg,user:t.user,admin:t.admin}}),I)(T),x=a(16),A=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.location,a=e.onSubmit,n=e.errorMsg,o=e.isAuthorized,c=(t.state||{from:{pathname:te}}).from;return o?r.a.createElement(S.a,{to:c}):r.a.createElement("div",{className:"container"},n?r.a.createElement("div",{className:"alert alert-danger",role:"alert"},n):null,r.a.createElement("form",{onSubmit:a},r.a.createElement(p,null),r.a.createElement(d,{caption:"Password",name:"password"}),r.a.createElement(d,{caption:"Confirm Password",name:"confirmPassword"}),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))}}]),a}(r.a.Component),L=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t=n.props.signUp;return F(e.target.email.value)?e.target.password.value!==e.target.confirmPassword.value?(n.setState((function(e){return Object(x.a)({},e,{errorMsg:"password didn't match"})})),null):void t({email:e.target.email.value,password:M(e.target.password.value)}):(n.setState((function(e){return Object(x.a)({},e,{errorMsg:"email address incorrect"})})),null)},n.state={errorMsg:n.props.errorMsg},n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(A,Object.assign({},this.props,{errorMsg:this.props.errorMsg||this.state.errorMsg,onSubmit:this.handleSubmit}))}}]),a}(r.a.Component),P={signUp:function(e,t){return function(e){return function(t){return t({type:"SIGN_UP",payload:{email:e.email,password:e.password}})}}(e)}},Y=Object(b.b)((function(e){var t=e.sessionStore;return{isAuthorized:""!==t.user.email,errorMsg:t.errorMsg,user:t.user,admin:t.admin}}),P)(L),z=function(e){var t=e.logOut,a=e.user;return r.a.createElement(r.a.Fragment,null,a.email?r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement("p",null,"You are logged in as ",a.email)),r.a.createElement("button",{type:"button",className:"btn btn-outline-primary",onClick:t},"Logout")):r.a.createElement(S.a,{to:{pathname:ee}}))},G=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.logOut,a=e.user;return r.a.createElement(z,{logOut:t,user:a})}}]),a}(r.a.Component),U={logOut:function(){return{type:"LOG_OUT"}}},R=Object(b.b)((function(e){return{user:e.sessionStore.user}}),U)(G),B=a(145),J=Object(b.b)((function(e){return{isAuthorized:""!==e.sessionStore.user.email}}))((function(e){var t=e.component,a=Object(B.a)(e,["component"]);return r.a.createElement(S.b,Object.assign({},a,{render:function(e){return a.isAuthorized?r.a.createElement(t,e):r.a.createElement(S.a,{to:{pathname:ee,state:{from:te}}})}}))})),W=a(7),Z=a.n(W),K=a(31),$={colors:K.c,items:K.f,filter:K.e,cart:K.b};function H(e,t){return e.map((function(e,a){return function(e,t){var a=e;return a.isFiltered=!1,Z()(e.issueDate,"DD-MM-YYYY").isBefore(t.fromDate)||Z()(e.issueDate,"DD-MM-YYYY").isAfter(t.toDate)||t.inStockOnly&&D(e.inStock)!==t.inStockOnly||t.priceFrom&&Number(e.price)<Number(t.priceFrom)||t.priceTo&&Number(e.price)>Number(t.priceTo)||t.color&&t.color!==e.color?(a.isFiltered=!0,a):a}(e,t)}))}function q(e){return H(e.items,e.filter)}var Q=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.items;return r.a.createElement(r.a.Fragment,null,e&&r.a.createElement(O,null),r.a.createElement("div",{className:"container"},e&&e.map((function(e){return e.isFiltered?"":r.a.createElement(k,{item:e,key:e.id})}))))}}]),a}(r.a.Component),V=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.items;return r.a.createElement(Q,{items:e})}}]),a}(r.a.Component),X=Object(b.b)((function(e){var t=e.productStore;e.sessionStore;return{items:q(t)}}))(V),ee="/shop-app/login",te="/shop-app/search",ae=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(S.d,null,r.a.createElement(S.b,{exact:!0,path:"/shop-app/",render:function(){return r.a.createElement(S.a,{to:ee})}}),r.a.createElement(S.b,{path:ee,component:_}),r.a.createElement(S.b,{path:"/shop-app/signup",component:Y}),"} />",r.a.createElement(J,{path:te,component:X}),r.a.createElement(J,{path:"/shop-app/cart",component:he}),r.a.createElement(S.b,{path:"/shop-app/logout",component:R}),r.a.createElement(S.b,{component:de}))}}]),a}(n.Component),ne=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarToggler","aria-controls":"navbarToggler","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarToggler"},r.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0"},r.a.createElement(re,{to:ee,caption:"Login"}),r.a.createElement(re,{to:"/shop-app/signup",caption:"Signup"}),r.a.createElement(re,{to:te,caption:"Search"}),r.a.createElement(re,{to:"/shop-app/logout",caption:"Logout"}),r.a.createElement(re,{to:"/shop-app/cart",caption:"Cart"}))))))}}]),a}(n.Component),re=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.to,a=e.caption;return r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.b,{className:"nav-link",to:t},a))}}]),a}(n.Component),oe=a(33),ce=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=n.handleChange.bind(Object(oe.a)(n)),n}return Object(l.a)(a,[{key:"handleChange",value:function(e){this.props.onChange(e.target.value)}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.caption;return r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},a," $")),r.a.createElement("input",{name:t,type:"text",className:"form-control","aria-label":"Amount (to the nearest dollar)",onChange:this.handleChange})))}}]),a}(n.Component),ie=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=n.handleChange.bind(Object(oe.a)(n)),n}return Object(l.a)(a,[{key:"handleChange",value:function(e){this.props.onChange(e.target.checked)}},{key:"render",value:function(){var e=this.props,t=e.caption,a=e.value,n=e.name;return r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},n?r.a.createElement("input",{type:"checkbox",name:n,"aria-label":"Checkbox for ".concat(t),onChange:this.handleChange,checked:D(a)}):r.a.createElement("input",{type:"checkbox","aria-label":"Checkbox for ".concat(t),onChange:this.handleChange,checked:D(a)}))),r.a.createElement("div",{className:"form-control form-control_left-border text-left bd-highlight"},t)))}}]),a}(n.Component),le=(a(159),a(208),a(209),a(143)),se=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.caption,a=e.date,n=e.onDateChange,o=e.focused,c=e.onFocusChange,i=e.id,l=e.onOutsideRange;return r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text",id:"from-date-label"},t)),r.a.createElement(le.SingleDatePicker,{date:a,numberOfMonths:1,isOutsideRange:l,onDateChange:n,focused:o,onFocusChange:c,id:i})))}}]),a}(n.Component);se.defaultProps={onOutsideRange:function(){return!1},caption:"Date:"};var ue=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=n.handleChange.bind(Object(oe.a)(n)),n}return Object(l.a)(a,[{key:"handleChange",value:function(e){this.props.onChange(e.target.value)}},{key:"getListItems",value:function(){var e=this.props,t=e.items,a=e.name;return r.a.createElement("select",{name:a,onChange:this.handleChange},t&&t.map((function(e){return r.a.createElement("option",{value:e.toLowerCase(),key:e},e)})))}},{key:"render",value:function(){var e=this.props.caption;return r.a.createElement(me,{caption:e,items:this.getListItems()})}}]),a}(n.Component),me=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.caption,a=e.items;return r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"form-control text-right bd-highlight form-control_right-border"},t),r.a.createElement("div",{className:"input-group-append"},a)))}}]),a}(n.Component),pe=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.caption,a=e.onClick;return r.a.createElement("div",{className:"col-3 pt-3"},r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:a},t))}}]),a}(n.Component),de=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"NotFound page"),r.a.createElement("p",null,"under construction"))},he=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Cart page"),r.a.createElement("p",null,"under construction"))},be=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,null),r.a.createElement(ae,null)))}}]),a}(n.Component),fe=a(144),ge=a(34),ve={user:K.g,admin:K.a,errorMsg:K.d},Oe=Object(ge.c)({sessionStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN":case"SIGN_UP":return Object(x.a)({},e,{user:{email:t.payload.email,password:t.payload.password},errorMsg:""});case"LOG_OUT":return Object(x.a)({},e,{user:{email:"",password:""},errorMsg:""});case"LOG_IN_FAIL":return Object(x.a)({},e,{errorMsg:t.payload});default:return e}},productStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ITEM":return Object(x.a)({},e,{items:e.items.map((function(e){return e.id===t.payload.id?Object(x.a)({},t.payload):Object(x.a)({},e)}))});case"SET_INSTOCK":return Object(x.a)({},e,{items:e.items.map((function(e){return Object(x.a)({},e,{inStock:e.id===t.payload.id?t.payload.inStock:e.inStock})}))});case"SET_FILTER":return Object(x.a)({},e,{filter:Object(x.a)({},e.filter,{},t.payload)});default:return e}}}),Ee=[fe.a],je=ge.d,ye=Object(ge.e)(Oe,je(ge.a.apply(void 0,Ee)));c.a.render(r.a.createElement(b.a,{store:ye},r.a.createElement(be,null)),document.getElementById("root"))},31:function(e){e.exports=JSON.parse('{"a":{"email":"admin@myself.com","password":"92668751"},"g":{"email":"","password":""},"d":"","c":["","Red","White","Black","Blue","Yellow","Green"],"f":[{"id":"1","name":"Trejo Priest","color":"black","issueDate":"23.03.2020","price":"4.99","rating":"4.00","inStock":"false","image":"./images/trejo_priest.jpg","isFiltered":"false"},{"id":"2","name":"Trejo Bathrobe","color":"blue","issueDate":"11.01.2020","price":"9.95","rating":"2.00","inStock":"true","image":"./images/trejo_bathrobe.jpg","isFiltered":"false"},{"id":"3","name":"Alien Tourists","color":"green","issueDate":"06.02.2020","price":"15.99","rating":"5.00","inStock":"true","image":"./images/alien_tourists.jpg","isFiltered":"false"}],"e":{"fromDate":null,"toDate":null,"inStockOnly":false,"priceFrom":null,"proceTo":null,"color":null},"b":[]}')}},[[146,1,2]]]);
//# sourceMappingURL=main.faeb34c2.chunk.js.map