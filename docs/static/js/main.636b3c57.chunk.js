(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,a){e.exports=a(198)},116:function(e,t,a){},118:function(e,t,a){},154:function(e,t,a){},198:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),c=a.n(o),i=(a(116),a(2)),s=a(3),l=a(5),u=a(4),m=a(6),p=(a(118),a(202)),d=a(200),h=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.to,a=e.caption;return r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.a,{className:"nav-link",to:t},a))}}]),t}(n.Component),f=a(204),b=a(203),g=a(201),v=a(19),O="LOG_IN",E="LOG_OUT",j="LOG_IN_FAIL",y="SIGN_UP";var C=a(45),k=a(13),N=a(109),S=function(e){return/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(e)},w=function(e){return"string"===typeof e?JSON.parse(e.toLowerCase().trim()):e},F=function(e){var t=0;if(0===e.length)return t;for(var a=0;a<e.length;a++){t=(t<<5)-t+e.charCodeAt(a),t&=t}return String(t)},D=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.onChange;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email address"),r.a.createElement("input",{type:"email","data-field-name":"email",onChange:e,className:"form-control",name:"email","aria-describedby":"emailHelp",placeholder:"Enter email"}))}}]),t}(n.Component),T=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onChange,a=e.caption,n=e.name;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"InputPassword"},a),r.a.createElement("input",{type:"password","data-field-name":"password",onChange:t,className:"form-control",name:n,placeholder:"Password"}))}}]),t}(n.Component),x=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.password,o=t.confirmPassword,c=a.props,i=c.isSignup,s=c.logIn,l=c.signUp;return i&&r!==o?(a.setState(function(e){return Object(k.a)({},e,{errorMsg:"password didn't match"})}),null):S(n)?void(i?l({email:n,password:F(r)},function(){a.setState({redirectBack:!0})}):s({email:n,password:F(r),admin:a.state.admin},function(){a.setState({redirectBack:!0})})):(a.setState(function(e){return Object(k.a)({},e,{errorMsg:"email address incorrect"})}),null)},a.handleChange=function(e){var t=e.currentTarget.value,n=e.currentTarget.name;a.setState(function(e){return Object(k.a)({},e,Object(C.a)({},n,t))})};var n=a.props,r=n.isSignup,o=n.admin,c=n.errorMsg,s=n.isAuthorized;return a.state={email:"",password:"",confirmPassword:"",errorMsg:c,isSignup:r,admin:o,redirectBack:s},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"getAlert",value:function(e){return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},e)}},{key:"render",value:function(){var e=this.props.errorMsg||this.state.errorMsg,t=this.props,a=t.location,n=t.isSignup,o=(a.state||{from:{pathname:me}}).from;return this.state.redirectBack?r.a.createElement(N.a,{to:o}):r.a.createElement("div",{className:"container"},e&&this.getAlert(e),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(D,{onChange:this.handleChange}),r.a.createElement(T,{onChange:this.handleChange,caption:"Password",name:"password"}),n?r.a.createElement(T,{onChange:this.handleChange,caption:"Confirm Password",name:"confirmPassword"}):"",r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))}}]),t}(n.Component),M=Object(v.b)(function(e){return{isAuthorized:""!==e.sessionStore.user.email,errorMsg:e.sessionStore.errorMsg,user:e.sessionStore.user,admin:e.sessionStore.admin}},function(e){return{logIn:function(t,a){return e(function(e,t){return function(a){!function(e){return e.admin.password===e.password}(e)?a({type:j,payload:"Wrong Username or Password"}):(a({type:O,payload:{email:e.email,password:e.password}}),t())}}(t,a))},signUp:function(t,a){return e(function(e,t){return function(a){a({type:y,payload:{email:e.email,password:e.password}}),t()}}(t,a))}}})(x),I="SET_ITEMS",_="SET_FILTER",A="SET_INSTOCK";var P=a(8),L=a.n(P),B=a(21),z={colors:B.c,items:B.f,filter:B.e,cart:B.b};function Y(e,t){return e.map(function(e,a){return function(e,t){var a=e;a.isFiltered=!1;var n=L()(e.issueDate,"MM-DD-YYYY");return t.fromDate&&n.diff(t.fromDate)<0?a.isFiltered=!0:t.toDate&&t.toDate.diff(n)<0&&(a.isFiltered=!0),t.inStockOnly&&w(e.inStock)!==t.inStockOnly&&(a.isFiltered=!0),t.priceFrom&&e.price<t.priceFrom?a.isFiltered=!0:t.priceTo&&e.price>t.priceTo&&(a.isFiltered=!0),t.color&&t.color!==e.color&&(a.isFiltered=!0),a}(e,t)})}a(126),a(152),a(154);var H=a(107),G=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.date,a=e.onDateChange,n=e.focused,o=e.onFocusChange,c=e.id;return r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text",id:"from-date-label"},"From:")),r.a.createElement(H.SingleDatePicker,{date:t,numberOfMonths:1,isOutsideRange:function(){return!1},onDateChange:a,focused:n,onFocusChange:o,id:c})))}}]),t}(n.Component),U=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.caption,a=e.value,n=e.onChange,o=e.name;return r.a.createElement("div",{className:"col-3"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},o?r.a.createElement("input",{type:"checkbox",name:o,"aria-label":"Checkbox for ".concat(t),onChange:n,checked:w(a)}):r.a.createElement("input",{type:"checkbox","aria-label":"Checkbox for ".concat(t),onChange:n,checked:w(a)}))),r.a.createElement("div",{className:"form-control form-control_left-border text-left bd-highlight"},t)))}}]),t}(n.Component),J=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.onChange,n=e.caption;return r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},n," $")),r.a.createElement("input",{name:t,type:"text",className:"form-control","aria-label":"Amount (to the nearest dollar)",onChange:a})))}}]),t}(n.Component),R=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"getListItems",value:function(e,t,a){return r.a.createElement("select",{name:t,onChange:a},e&&e.map(function(e){return r.a.createElement("option",{value:e.toLowerCase(),key:e},e)}))}},{key:"render",value:function(){var e=this.props,t=e.caption,a=e.items,n=e.name,o=e.onChange;return r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"form-control text-right bd-highlight form-control_right-border"},t),r.a.createElement("div",{className:"input-group-append"},this.getListItems(a,n,o))))}}]),t}(n.Component),W="in-stock-only",Z="from-amount-id",$="to-amount-id",K="color-id",q=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onChangeHandler=function(e){switch(e.currentTarget.name){case W:a.state.setFilter({inStockOnly:e.currentTarget.checked});break;case K:a.state.setFilter({color:e.currentTarget.value});break;case Z:a.state.setFilter({priceFrom:parseFloat(e.currentTarget.value)});break;case $:a.state.setFilter({priceTo:parseFloat(e.currentTarget.value)})}};var n=a.props,r=n.colors,o=n.errorMsg,c=n.setFilter,s=n.filter;return a.state={focusedFromDate:null,focusedToDate:null,fromDate:s.fromDate,toDate:s.toDate,filter:s,colors:r,errorMsg:o,setFilter:c},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"pt-3 pb-3 mb-3"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement(G,{date:this.state.fromDate,onDateChange:function(t){e.state.setFilter({fromDate:t}),e.setState({fromDate:t})},focused:this.state.focusedFromDate,onFocusChange:function(t){var a=t.focused;return e.setState({focusedFromDate:a})},id:"from-date-id"}),r.a.createElement(G,{date:this.state.toDate,onDateChange:function(t){e.state.setFilter({ToDate:t}),e.setState({ToDate:t})},focused:this.state.focusedToDate,onFocusChange:function(t){var a=t.focused;return e.setState({focusedToDate:a})},id:"to-date-id"}),r.a.createElement(U,{name:W,caption:"In Stock only",onChange:this.onChangeHandler,checked:this.state.filter.inStockOnly})),r.a.createElement("div",{className:"row"}," ",r.a.createElement("div",{className:"col"}," Price ")," ")," ",r.a.createElement("div",{className:"row"},r.a.createElement(J,{name:Z,caption:"From",onChange:this.onChangeHandler}),r.a.createElement(J,{name:$,caption:"To",onChange:this.onChangeHandler}),r.a.createElement(R,{name:K,caption:"Color",onChange:this.onChangeHandler,items:this.state.colors})))))}}]),t}(n.Component),Q=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.imageSrc,a=e.name;return r.a.createElement("div",{className:"col-xs-6 col-sm-5 col-md-3 col-lg-3"},r.a.createElement("img",{src:t,alt:a,style:{maxWidth:"150px"}}))}}]),t}(n.Component),V=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.caption,a=e.value;return r.a.createElement("div",{className:"col-3 "},r.a.createElement("p",{className:"card-text"},t,":"),r.a.createElement("p",{className:"card-text"},a))}}]),t}(n.Component),X=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.caption,a=e.onClick;return r.a.createElement("div",{className:"col-3 pt-3"},r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:a},t))}}]),t}(n.Component),ee=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.onChange;return r.a.createElement("div",{className:"card border-secondary mb-3",key:t.id},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement(Q,{imageSrc:t.image,name:t.name}),r.a.createElement("div",{className:"col-xs-6 col-sm-7 col-md-9 col-lg-9"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row pt-3"},r.a.createElement(V,{caption:"Name",value:t.name}),r.a.createElement(V,{caption:"Issue Date",value:t.issueDate}),r.a.createElement(V,{caption:"Price",value:t.price})),r.a.createElement("div",{className:"row pt-3"},r.a.createElement(V,{caption:"Color",value:t.color}),r.a.createElement(U,{caption:"In Stock Only",value:t.inStock,onChange:function(e){a({id:t.id,inStock:e.currentTarget.checked})}}),r.a.createElement(X,{caption:"Order",onClick:null})))))))}}]),t}(n.Component),te=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.items;return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(q,this.props),r.a.createElement("div",{className:"container"},t&&t.map(function(t){return t.isFiltered?"":r.a.createElement(ee,{item:t,key:t.id,onChange:e.props.setItems})})))}}]),t}(r.a.Component),ae=Object(v.b)(function(e){return{colors:e.productStore.colors,filter:e.productStore.filter,items:function(e){return Y(e.productStore.items,e.productStore.filter)}(e),errorMsg:e.sessionStore.errorMsg}},function(e){return{setFilter:function(t){return e({type:_,payload:t})},setItems:function(t){return e(function(e){return{type:I,payload:e}}(t))}}})(te),ne=a(110),re=Object(v.b)(function(e){return{isAuthorized:""!==e.sessionStore.user.email}})(function(e){var t=e.component,a=Object(ne.a)(e,["component"]);return r.a.createElement(b.a,Object.assign({},a,{render:function(e){return a.isAuthorized?r.a.createElement(t,e):r.a.createElement(g.a,{to:{pathname:ue,state:{from:me}}})}}))}),oe=function(e){var t=e.logOut,a=e.user;return r.a.createElement("div",{className:"container"},a.email?r.a.createElement("div",null,r.a.createElement("p",null,"You are logged in, ",a.email)):r.a.createElement("div",null,r.a.createElement("p",null,"You should login first")),r.a.createElement("button",{type:"button",className:"btn btn-outline-primary",onClick:t},"Logout page"))},ce=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.logOut,a=e.user;return r.a.createElement(oe,{logOut:t,user:a})}}]),t}(r.a.Component),ie=Object(v.b)(function(e){return{user:e.sessionStore.user}},function(e){return{logOut:function(){return e({type:E})}}})(ce),se=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"NotFound page"),r.a.createElement("p",null,"under construction"))},le=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Cart page"),r.a.createElement("p",null,"under construction"))},ue="/shop-app/login",me="/shop-app/search",pe=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement(b.a,{exact:!0,path:"/shop-app/",render:function(){return r.a.createElement(g.a,{to:ue})}}),r.a.createElement(b.a,{path:ue,component:M}),r.a.createElement(b.a,{path:"/shop-app/signup",render:function(e){return r.a.createElement(M,Object.assign({},e,{isSignup:!0}))}}),r.a.createElement(re,{path:me,component:ae}),r.a.createElement(re,{path:"/shop-app/cart",component:le}),r.a.createElement(b.a,{path:"/shop-app/logout",component:ie}),r.a.createElement(b.a,{component:se}))}}]),t}(n.Component),de=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarToggler","aria-controls":"navbarToggler","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarToggler"},r.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0"},r.a.createElement(h,{to:ue,caption:"Login"}),r.a.createElement(h,{to:"/shop-app/signup",caption:"Signup"}),r.a.createElement(h,{to:me,caption:"Search"}),r.a.createElement(h,{to:"/shop-app/logout",caption:"Logout"}),r.a.createElement(h,{to:"/shop-app/cart",caption:"Cart"}))))))}}]),t}(n.Component),he=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(de,null),r.a.createElement(pe,null)))}}]),t}(n.Component),fe=a(108),be=(a(197),a(25)),ge={user:B.g,admin:B.a,errorMsg:B.d},ve=Object(be.c)({sessionStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:case y:return Object(k.a)({},e,{user:{email:t.payload.email,password:t.payload.password},errorMsg:""});case E:return Object(k.a)({},e,{user:{email:"",password:""},errorMsg:""});case j:return Object(k.a)({},e,{errorMsg:t.payload});default:return e}},productStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(k.a)({},e,{items:e.items.map(function(e){return Object(k.a)({},e,{inStock:e.id===t.payload.id?t.payload.inStock:e.inStock})})});case A:return Object(k.a)({},e,{items:e.items.map(function(e,a){return Object(k.a)({},e,{inStock:t.payload[a].inStock})})});case _:return Object(k.a)({},e,{filter:Object(k.a)({},e.filter,t.payload)});default:return e}}}),Oe=[fe.a];var Ee=Object(be.d)(ve,be.a.apply(void 0,Oe));c.a.render(r.a.createElement(v.a,{store:Ee},r.a.createElement(he,null)),document.getElementById("root"))},21:function(e){e.exports={a:{email:"ya@ya.ru",password:"92668751"},g:{email:"",password:""},d:"",c:["","Red","White","Black","Blue","Yellow","Green"],f:[{id:"1",name:"Trejo Priest",color:"black",issueDate:"10.22.2018",price:"4.99",rating:"4.00",inStock:"false",image:"./images/trejo_priest.jpg",isFiltered:"false"},{id:"2",name:"Trejo Bathrobe",color:"blue",issueDate:"11.03.2018",price:"9.95",rating:"2.00",inStock:"true",image:"./images/trejo_bathrobe.jpg",isFiltered:"false"},{id:"3",name:"Alien Tourists",color:"green",issueDate:"06.09.2018",price:"15.99",rating:"5.00",inStock:"true",image:"./images/alien_tourists.jpg",isFiltered:"false"}],e:{fromDate:null,toDate:null,inStockOnly:!1,priceFrom:null,proceTo:null,color:null},b:[]}}},[[111,2,1]]]);
//# sourceMappingURL=main.636b3c57.chunk.js.map